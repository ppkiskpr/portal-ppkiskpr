<!doctype html>
<html lang="ms" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portal PPKI SK Paya Resak</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: { boxShadow: { soft: '0 10px 30px rgba(0,0,0,.08)' } }
      }
    }
  </script>

  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>

<body class="h-full bg-slate-50 dark:bg-slate-950">
<div class="min-h-screen flex">

<!-- SIDEBAR -->
<aside id="sidebar" class="w-72 bg-white dark:bg-slate-900 border-r p-4">
  <div class="font-bold text-lg">PPKI SK Paya Resak</div>
  <nav class="mt-4 space-y-2">
    <div class="navItem cursor-pointer" data-view="home">Dashboard</div>
    <div class="navItem cursor-pointer" data-view="data">Data</div>
  </nav>
</aside>

<!-- MAIN -->
<main class="flex-1 p-6">
<section id="view-home">

<h2 class="text-xl font-bold mb-4">Dashboard Kehadiran</h2>

<!-- FILTER -->
<div class="flex gap-3 mb-4">
  <input id="cmpMonth" type="month" class="border px-3 py-2 rounded">
  <select id="cmpClass" class="border px-3 py-2 rounded">
    <option value="">Semua Kelas</option>
  </select>
</div>

<!-- TOGGLE -->
<div class="flex gap-2 mb-3">
  <button class="trendBtn px-3 py-1 border rounded" data-mode="pct">%</button>
  <button class="trendBtn px-3 py-1 border rounded" data-mode="hadir">Hadir</button>
  <button class="trendBtn px-3 py-1 border rounded" data-mode="tidak">Tidak Hadir</button>
</div>

<!-- TREND CHART -->
<canvas id="chartDailyTrend" height="120"></canvas>

<!-- TOP 5 -->
<div class="mt-6">
  <h3 class="font-semibold mb-2">Top 5 Murid Tidak Hadir</h3>
  <table class="w-full text-sm border">
    <thead class="bg-slate-100">
      <tr>
        <th class="border px-2 py-1">Nama</th>
        <th class="border px-2 py-1">Kelas</th>
        <th class="border px-2 py-1">Tidak Hadir</th>
      </tr>
    </thead>
    <tbody id="topAbsentBody">
      <tr><td colspan="3" class="p-2">Memuatâ€¦</td></tr>
    </tbody>
  </table>
</div>

</section>

<section id="view-data" class="hidden">
  <h2 class="text-xl font-bold">Data CSV</h2>
  <p>Sumber: <span id="csvSourceText"></span></p>
</section>

</main>
</div>

<script src="./config.js"></script>
<script src="./app.js"></script>
<script>lucide.createIcons();</script>
</body>
</html>
